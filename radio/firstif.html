<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">

<html>

<head>

<meta name="description" content="Explain the content" />
<meta name="keywords" content="Insert keywords here" />

<title>Part 3 - The IF Strip and AGC System</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<link rel="stylesheet" href="/css/w3c.css" type="text/css" />
<link rel="stylesheet" href="/css/gadallah.css" type="text/css" />

<!-- google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-28057007-1']);
  _gaq.push(['_setDomainName', 'gadallah.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.a
sync = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://w
ww') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefor
e(ga, s);
  })();

</script>

</head>

<body>

<div id="banner">

<center>

<h1>Homebrew Receiver Design in the 90s</h1>

</center>

</div>

<div id="nav">

<a href="/~larry/">Back</a><br/>
<a href="/~larry/yoyodyne/">Consulting Services</a><br/>
<a href="/~larry/radio/">Radio</a><br/>
<a href="/~larry/compute/">Computing</a><br/>
<a href="/~larry/other/">Other Stuff</a><br/>
<a href="/~larry/wordpress/">My blog!</a><br/>
<br/>

<p>
<a href="http://validator.w3.org/check?uri=referer">
<img style="border:0;width:88px;height:31px" src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" />
</a>
</p>

<p>
<a href="http://jigsaw.w3.org/css-validator/check/referer">
<img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
</a>
</p>

<br/><!-- This little BR is because IE5PC likes to ignore the margin-bottom on the last P above if it is the last element in the DIV-->

</div>

<div id="main">

<center>
<h1>Part 3 - The IF Strip and AGC System</h1>
<i>by Larry Gadallah</i>
<br/>
</center>

<h2>The First IF Strip:</h2>

<p>The first IF strip's job is to take the signals provided by the
first mixer and filter, amplify, and limit them. Generally this is
the first place where selectivity is provided, usually by means of
a "window" filter. This filter typically has a bandwidth of 40 to
100 khz. This is followed by several gain stages, and if RF-
derived AGC is used, there is a circuit to determine the amplitude
of signal presented to the first IF stage as well as systems to
control the gain of the IF strip based on this information.</p>

<h3>Image Rejection and Up Conversion</h3>

<p>In modern receivers, "up conversion" is generally used. This
means that the intermediate frequency (IF) is much higher than the
highest received frequency. The reason for this is to provide
improved image rejection. Superheterodyne receivers have been
plagued since their invention by image reception. This is because
the output of mixers, inherently non-linear devices, contain not
only the desired combination of signal and local oscillator (LO)
frequencies, but all possible sums and differences of these
frequencies. In older receivers that used a 455 khz first IF, this
led to situations where the receiver would respond to signals that
were both 455 khz above and below the LO frequency, where the
desired behavior was to have reception of only one of these
signals. This characteristic of mixers cannot be eliminated, so the
only solution was to apply heavy filtering of the image frequency
(twice the IF frequency removed from the desired signal) before the
first mixer. In cases like the previous one this was very difficult
since the image frequency was separated by a very small amount from
the desired signal frequency, and if filtering was used it had to
be elaborate and expensive. The use of up conversion simplifies
this filtering since the image frequency is greatly separated from
the signal frequency. This means that a receiver which receives up
to 30 Mhz might use a first IF of 70 Mhz. Such a receiver, tuned to
30 Mhz, with the LO set to 100 Mhz (since 100 - 30 = 70) has an
image frequency of 170 Mhz (since 170 - 100 = 70). Eliminating the
image frequency here is simple, requiring a low pass filter at
perhaps 35 or 40 Mhz.</p>

<h3>Impedance Matching</h3>

<p>As was mentioned in the previous article about the first mixer,
careful impedance matching to the first mixer is critical to
preserve the dynamic range of the first mixer. In order to
accomplish this, often a active impedance matching stage is the
first circuit in the first IF strip. This circuit ensures that the
wildly varying impedance of the crystal window filter would not be
seen by the first mixer stage. All the comments made about the need
for high dynamic range and low noise figure stages in the front-end
apply to this stage also, since it is the last wideband stage in
the receiver and in general, the AGC system does not protect it
from the vast dynamic range of signals found in the front end. The
use of modern CATV bipolar transistors and noiseless feedback
techniques are also recommended for this stage.</p>

<h3>Window Filters</h3>

<p>The spectrum of the signal provided at the output of the first
mixer is extremely wide. It is generally only limited by the
bandwidth of the front-end stages. In modern receivers the
front-end bandwidth is often an octave (2:1 range) or more.</p>

<p>The IF stages could never handle the number and range of signals
in this spectrum so the receiver bandwidth must be constrained
here. In older receivers, this was done using critically coupled IF
transformers, but for modern receivers this is not practical due to
the very high IFs used. For these receivers a crystal lattice
filter is used, and it provides higher performance and better
stability than critically coupled transformers. The latest
technology in this area is the surface acoustic wave (SAW) filter.
These piezoelectric devices provide similar or better performance
than crystal filters at lower prices. For the homebrew receiver,
many filters used for satellite TV IF strips (70 Mhz) are
appropriate and available.</p>

<h3>Gain Distribution</h3>

<p>The IF stages usually provide most (80-90 db) of the overall
receiver gain (120- 140 db). Since the dynamic range of modern
receivers often exceeds 100 db, there needs to be some mechanism
for changing the gain of the IF stages from 90 db to -10 db. This
mechanism is the automatic gain control (AGC) system. The critical
questions to be answered in designing an AGC system for a receiver
are: Where is the signal to be sampled to determine its strength,
and where is gain control going to be applied? Typically the
front-end and first mixer stages have a fixed gain, so a logical
place to sample signal strength is after the window filter of the
first IF stage. This is a compromise, because strong signals
outside the first IF "window" can overload RF stages in the
receiver, but the alternative of allowing the AGC system to see
more spectrum around the signal of interest leads to AGC system
"pumping" where strong adjacent signals modulate the receiver gain
(and the desired signal). The best solution found so far to this
dilemma is the double loop AGC system, where a second, wideband AGC
loop is added, and it controls the gain of the front-end. This
additional AGC system ensures that all the signals adjacent to the
desired signal are within the range that the first IF stages and
the main AGC loop can handle. Normally the control of front-end
gain is accomplished with PIN diode attenuators or switched
resistive attenuators. Motorola, Plessey, and other semiconductor
manufacturers provide integrated circuits (ICs) which provide many
of these functions in small, easy to use packages.</p>

<p>The next installment will cover the detector and audio
stages.</p>


</div>

<div id="margin">

&nbsp;

</div>

<div id="footer">

&copy; 2004 
Larry Gadallah, 
<a href="/~larry/yoyodyne">796001 Alberta Limited</a>

<br/>
Last updated: 
<br/>

<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/search">
<input type="hidden" name="ie" value="UTF-8" />
<input type="hidden" name="oe" value="UTF-8" />
<input type="text" name="q" size="31" maxlength="255" value="" />
<input type="submit" name="btnG" value="Google Search" />
<input type="hidden" name="domains" value="gadallah.com" />
<br/>
<input type="radio" name="sitesearch" value="" /> 
<a href="http://www.google.com">WWW</a> 
<input type="radio" name="sitesearch" value="gadallah.com" checked="checked" /> 
<a href="http://www1.gadallah.com">gadallah.com</a> 
<br/>
</form>
<!-- SiteSearch Google -->

</div>

</body>
</html>


<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
"http://www.w3.org/TR/REC-html40/loose.dtd">



<!-- Stick This Stuff On The End -->
<hr>
<!--#include virtual="footer.shtml" -->

<!-- google analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-1598384-2");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>

